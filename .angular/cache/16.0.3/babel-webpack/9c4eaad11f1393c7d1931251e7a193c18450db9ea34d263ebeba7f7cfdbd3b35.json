{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/pc/Projects/week8/assesment8/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { CommonModule } from '@angular/common';\nimport { FormControl, FormGroup, FormsModule, ReactiveFormsModule, Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../students-management.service\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"@angular/common\";\nfunction AddstudentComponent_p_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 9);\n    i0.ɵɵtext(1, \"Username is required*\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AddstudentComponent_p_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 9);\n    i0.ɵɵtext(1, \"Password is required*\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AddstudentComponent_div_11_p_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵtext(1, \"email does not match pattern\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AddstudentComponent_div_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"p\", 9);\n    i0.ɵɵtext(2, \"Email is required*\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(3, AddstudentComponent_div_11_p_3_Template, 2, 0, \"p\", 7);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.form.get(\"email\").errors[\"emailerror\"]);\n  }\n}\n//import {Student} from 'interface'\nclass AddstudentComponent {\n  constructor(studentsService) {\n    this.studentsService = studentsService;\n  }\n  ngOnInit() {\n    this.form = new FormGroup({\n      username: new FormControl('', [Validators.required]),\n      email: new FormControl(null, [Validators.required, Validators.email, Validators.pattern(/^[a-zA-Z0-9._%+-]+@thejitu\\.com$/)], [this.checkEmailPattern]),\n      password: new FormControl('', [Validators.required])\n    });\n  }\n  checkEmailPattern(control) {\n    return _asyncToGenerator(function* () {\n      if (control.value && !control.value.includes('@thejitu.com')) {\n        return {\n          emailerror: true\n        };\n      }\n      return null;\n    })();\n  }\n  onSubmit() {\n    if (this.form.valid) {\n      const newStudent = {\n        username: this.form.value.username,\n        email: this.form.value.email,\n        password: this.form.value.password\n      };\n      this.studentsService.addStudent(newStudent);\n      this.form.reset();\n    }\n  }\n}\nAddstudentComponent.ɵfac = function AddstudentComponent_Factory(t) {\n  return new (t || AddstudentComponent)(i0.ɵɵdirectiveInject(i1.StudentsManagementService));\n};\nAddstudentComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: AddstudentComponent,\n  selectors: [[\"app-addstudent\"]],\n  standalone: true,\n  features: [i0.ɵɵStandaloneFeature],\n  decls: 14,\n  vars: 4,\n  consts: [[1, \"formDetails\"], [3, \"formGroup\", \"ngSubmit\"], [\"id\", \"userData\"], [\"type\", \"text\", \"id\", \"username\", \"name\", \"username\", \"placeholder\", \"USERNAME\", \"formControlName\", \"username\"], [\"class\", \"error\", 4, \"ngIf\"], [\"type\", \"password\", \"id\", \"password\", \"name\", \"password\", \"placeholder\", \"PASSWORD\", \"formControlName\", \"password\"], [\"type\", \"email\", \"id\", \"email\", \"name\", \"email\", \"placeholder\", \"EMAIL\", \"formControlName\", \"email\"], [4, \"ngIf\"], [\"type\", \"submit\", 1, \"btn\"], [1, \"error\"]],\n  template: function AddstudentComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"form\", 1);\n      i0.ɵɵlistener(\"ngSubmit\", function AddstudentComponent_Template_form_ngSubmit_1_listener() {\n        return ctx.onSubmit();\n      });\n      i0.ɵɵelementStart(2, \"div\", 2);\n      i0.ɵɵelement(3, \"input\", 3)(4, \"br\");\n      i0.ɵɵtemplate(5, AddstudentComponent_p_5_Template, 2, 0, \"p\", 4);\n      i0.ɵɵelement(6, \"input\", 5)(7, \"br\");\n      i0.ɵɵtemplate(8, AddstudentComponent_p_8_Template, 2, 0, \"p\", 4);\n      i0.ɵɵelement(9, \"input\", 6)(10, \"br\");\n      i0.ɵɵtemplate(11, AddstudentComponent_div_11_Template, 4, 1, \"div\", 7);\n      i0.ɵɵelementStart(12, \"button\", 8);\n      i0.ɵɵtext(13, \"SUBMIT\");\n      i0.ɵɵelementEnd()()()();\n    }\n    if (rf & 2) {\n      let tmp_1_0;\n      let tmp_2_0;\n      let tmp_3_0;\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"formGroup\", ctx.form);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngIf\", !((tmp_1_0 = ctx.form.get(\"username\")) == null ? null : tmp_1_0.valid) && ((tmp_1_0 = ctx.form.get(\"username\")) == null ? null : tmp_1_0.touched));\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngIf\", !((tmp_2_0 = ctx.form.get(\"password\")) == null ? null : tmp_2_0.valid) && ((tmp_2_0 = ctx.form.get(\"password\")) == null ? null : tmp_2_0.touched));\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngIf\", !((tmp_3_0 = ctx.form.get(\"email\")) == null ? null : tmp_3_0.valid) && ((tmp_3_0 = ctx.form.get(\"email\")) == null ? null : tmp_3_0.touched));\n    }\n  },\n  dependencies: [FormsModule, i2.ɵNgNoValidate, i2.DefaultValueAccessor, i2.NgControlStatus, i2.NgControlStatusGroup, ReactiveFormsModule, i2.FormGroupDirective, i2.FormControlName, CommonModule, i3.NgIf],\n  styles: [\"#userData[_ngcontent-%COMP%]{\\r\\n    display: flex;\\r\\n    flex-direction: column;\\r\\n    justify-content: center;\\r\\n    align-items: center;\\r\\n}\\r\\n\\r\\ninput.ng-invalid.ng-touched[_ngcontent-%COMP%] {\\r\\n    border: 1px solid red;\\r\\n  }\\r\\n\\r\\n  .error[_ngcontent-%COMP%]{\\r\\n    color: red;\\r\\n  }\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvYWRkc3R1ZGVudC9hZGRzdHVkZW50LmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxhQUFhO0lBQ2Isc0JBQXNCO0lBQ3RCLHVCQUF1QjtJQUN2QixtQkFBbUI7QUFDdkI7O0FBRUE7SUFDSSxxQkFBcUI7RUFDdkI7O0VBRUE7SUFDRSxVQUFVO0VBQ1oiLCJzb3VyY2VzQ29udGVudCI6WyIjdXNlckRhdGF7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxufVxyXG5cclxuaW5wdXQubmctaW52YWxpZC5uZy10b3VjaGVkIHtcclxuICAgIGJvcmRlcjogMXB4IHNvbGlkIHJlZDtcclxuICB9XHJcblxyXG4gIC5lcnJvcntcclxuICAgIGNvbG9yOiByZWQ7XHJcbiAgfVxyXG5cclxuIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});\nexport { AddstudentComponent };","map":{"version":3,"names":["CommonModule","FormControl","FormGroup","FormsModule","ReactiveFormsModule","Validators","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵtemplate","AddstudentComponent_div_11_p_3_Template","ɵɵadvance","ɵɵproperty","ctx_r2","form","get","errors","AddstudentComponent","constructor","studentsService","ngOnInit","username","required","email","pattern","checkEmailPattern","password","control","_asyncToGenerator","value","includes","emailerror","onSubmit","valid","newStudent","addStudent","reset","ɵɵdirectiveInject","i1","StudentsManagementService","selectors","standalone","features","ɵɵStandaloneFeature","decls","vars","consts","template","AddstudentComponent_Template","rf","ctx","ɵɵlistener","AddstudentComponent_Template_form_ngSubmit_1_listener","ɵɵelement","AddstudentComponent_p_5_Template","AddstudentComponent_p_8_Template","AddstudentComponent_div_11_Template","tmp_1_0","touched","tmp_2_0","tmp_3_0","i2","ɵNgNoValidate","DefaultValueAccessor","NgControlStatus","NgControlStatusGroup","FormGroupDirective","FormControlName","i3","NgIf","styles"],"sources":["C:\\Users\\pc\\Projects\\week8\\assesment8\\src\\app\\addstudent\\addstudent.component.ts","C:\\Users\\pc\\Projects\\week8\\assesment8\\src\\app\\addstudent\\addstudent.component.html"],"sourcesContent":["import { CommonModule } from '@angular/common';\nimport { Component,OnInit } from '@angular/core';\nimport { AsyncValidatorFn, FormControl, FormGroup, FormsModule, ReactiveFormsModule, Validators } from '@angular/forms';\nimport { StudentsManagementService } from '../students-management.service';\nimport { Student } from 'interface';\n//import {Student} from 'interface'\n\n@Component({\n  selector: 'app-addstudent',\n  templateUrl: './addstudent.component.html',\n  styleUrls: ['./addstudent.component.css'],\n  standalone:true,\n  imports:[ FormsModule,\n    ReactiveFormsModule,CommonModule]\n})\nexport class AddstudentComponent implements OnInit {\n  form!: FormGroup;\n\n  constructor(private studentsService: StudentsManagementService) {}\n\n  ngOnInit(): void {\n    this.form = new FormGroup({\n      username: new FormControl('', [Validators.required]),\n      email: new FormControl(null, [Validators.required, Validators.email, Validators.pattern(/^[a-zA-Z0-9._%+-]+@thejitu\\.com$/)], [<AsyncValidatorFn>this.checkEmailPattern]),\n      password: new FormControl('', [Validators.required])\n    });\n  }\n\n  async checkEmailPattern(control:FormControl){\n    if(control.value && !control.value.includes('@thejitu.com')){\n      return {emailerror:true}\n    }\n    return null\n\n  }\n\n  onSubmit(): void {\n    if (this.form.valid) {\n      const newStudent: Student = {\n        username: this.form.value.username,\n        email: this.form.value.email,\n        password: this.form.value.password\n      };\n      this.studentsService.addStudent(newStudent);\n      this.form.reset();\n    }\n  }\n}","\n        \n            <div class=\"formDetails\">\n                <form (ngSubmit)=\"onSubmit()\" [formGroup]=\"form\">\n\n                    <div id=\"userData\" >\n                        <input type=\"text\" id=\"username\" name=\"username\" placeholder=\"USERNAME\" formControlName=\"username\"><br>\n                        <p class=\"error\" *ngIf=\"!form.get('username')?.valid && form.get ('username')?.touched\">Username is required*</p>\n                        <input type=\"password\" id=\"password\" name=\"password\" placeholder=\"PASSWORD\" formControlName=\"password\"><br>\n                        <p class=\"error\" *ngIf=\"!form.get('password')?.valid && form.get ('password')?.touched\">Password is required*</p>\n                        <input type=\"email\" id=\"email\" name=\"email\" placeholder=\"EMAIL\" formControlName=\"email\"><br>\n                        <div *ngIf=\"!form.get('email')?.valid && form.get ('email')?.touched\">\n                            <p class=\"error\" >Email is required*</p>\n                            <p *ngIf=\"form.get('email')!.errors!['emailerror']\">email does not match pattern</p>\n                        </div>\n                        \n                        <button  type=\"submit\" class=\"btn\">SUBMIT</button>\n                    </div>\n                </form>\n            </div>\n        \n \n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}